{"openapi":"3.1.0","info":{"title":"PharmaShop API","version":"0.1.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register User","operationId":"register_user_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/token":{"post":{"tags":["auth"],"summary":"Login For Access Token","operationId":"login_for_access_token_api_v1_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/token/refresh":{"post":{"tags":["auth"],"summary":"Refresh access token","description":"Takes a valid refresh token and returns a new access and refresh token pair.","operationId":"refresh_access_token_api_v1_auth_token_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshToken"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"post":{"tags":["users"],"summary":"Create a new user (Admin only)","description":"Create a new user with a specified role. This endpoint is restricted to admins.","operationId":"create_user_by_admin_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateWithRole"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["users"],"summary":"Get a list of all users (Admin only)","description":"Retrieve a paginated list of all users.","operationId":"get_all_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserPublic"},"title":"Response Get All Users Api V1 Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["users"],"summary":"Get a single user by ID (Admin only)","description":"Retrieve the details of a single user.","operationId":"get_user_by_id_api_v1_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update a user (Admin only)","description":"Update a user's details, such as their username or role.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete a user (Admin only)","description":"Delete a user from the system.","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/medicines/":{"post":{"tags":["medicines"],"summary":"Add a new medicine","description":"Adds a new medicine to the inventory.","operationId":"add_new_medicine_api_v1_medicines__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicinePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["medicines"],"summary":"Get a list of all medicines","description":"Retrieves a paginated list of all medicines with summary inventory data.","operationId":"get_all_medicines_api_v1_medicines__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MedicineInList"},"title":"Response Get All Medicines Api V1 Medicines  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/medicines/import":{"post":{"tags":["medicines"],"summary":"Import medicines from CSV file","description":"Imports medicine data from a CSV file. Each row should contain details for a new medicine\nor a new batch for an existing medicine.","operationId":"import_medicines_from_csv_api_v1_medicines_import_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_medicines_from_csv_api_v1_medicines_import_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/medicines/{medicine_id}":{"get":{"tags":["medicines"],"summary":"Get a single medicine by ID","description":"Retrieves the details of a single medicine, including all its batches.","operationId":"get_medicine_by_id_api_v1_medicines__medicine_id__get","parameters":[{"name":"medicine_id","in":"path","required":true,"schema":{"type":"integer","title":"Medicine Id"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicinePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["medicines"],"summary":"Update a medicine","description":"Update a medicine's details, such as name, brand, or form.","operationId":"update_medicine_api_v1_medicines__medicine_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"medicine_id","in":"path","required":true,"schema":{"type":"integer","title":"Medicine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicineUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicinePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["medicines"],"summary":"Delete a medicine","description":"Deletes a medicine and all its associated batches from the inventory.","operationId":"delete_medicine_api_v1_medicines__medicine_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"medicine_id","in":"path","required":true,"schema":{"type":"integer","title":"Medicine Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/medicines/{medicine_id}/batches":{"post":{"tags":["medicines"],"summary":"Add a new batch to a medicine","description":"Adds a new batch of stock to an existing medicine.","operationId":"add_new_batch_to_medicine_api_v1_medicines__medicine_id__batches_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"medicine_id","in":"path","required":true,"schema":{"type":"integer","title":"Medicine Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicineBatchCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MedicinePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sales/":{"post":{"tags":["sales"],"summary":"Create a new sale","description":"Processes a new sale transaction.\n\nThis endpoint takes a list of medicines and quantities, validates stock,\nupdates the inventory (decrementing from batches expiring soonest first),\nand records the sale. The entire operation is a single database transaction.","operationId":"create_new_sale_api_v1_sales__post","parameters":[{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleReceipt"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["sales"],"summary":"Get a list of all sales","description":"Retrieves a paginated list of all sales transactions, ordered by the most recent first.","operationId":"get_all_sales_api_v1_sales__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SaleInList"},"title":"Response Get All Sales Api V1 Sales  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sales/{sale_id}":{"get":{"tags":["sales"],"summary":"Get a single sale by ID","description":"Retrieves the details of a single sale, including all its line items.","operationId":"get_sale_by_id_api_v1_sales__sale_id__get","parameters":[{"name":"sale_id","in":"path","required":true,"schema":{"type":"integer","title":"Sale Id"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaleReceipt"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/stats":{"get":{"tags":["dashboard"],"summary":"Get dashboard statistics","description":"Retrieves aggregated statistics for the main dashboard.","operationId":"get_dashboard_stats_api_v1_dashboard_stats_get","parameters":[{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/sales-stats/{period}":{"get":{"tags":["dashboard"],"summary":"Get sales statistics for a specific period","description":"Retrieves total revenue and sales count for a given period:\n- **today**: Stats for the current day.\n- **last_7_days**: Stats for the last 7 days.\n- **last_30_days**: Stats for the last 30 days.","operationId":"get_sales_stats_api_v1_dashboard_sales_stats__period__get","parameters":[{"name":"period","in":"path","required":true,"schema":{"enum":["today","last_7_days","last_30_days"],"type":"string","title":"Period"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalesPeriodStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/inventory-summary":{"get":{"tags":["dashboard"],"summary":"Get a summary of inventory counts","description":"Retrieves a summary of inventory:\n- **total_medicines**: Count of all unique medicines.\n- **low_stock_medicines**: Count of medicines with quantity below the threshold.\n- **expired_batches**: Count of expired medicine batches.\n- **out_of_stock_medicines**: Count of medicines with zero quantity.","operationId":"get_inventory_summary_api_v1_dashboard_inventory_summary_get","parameters":[{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer"},"title":"Response Get Inventory Summary Api V1 Dashboard Inventory Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/top-selling-products":{"get":{"tags":["dashboard"],"summary":"Get the top-selling products","description":"Retrieves a list of the top-selling products by quantity sold.","operationId":"get_top_selling_products_api_v1_dashboard_top_selling_products_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":5,"title":"Limit"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TopSellingProduct"},"title":"Response Get Top Selling Products Api V1 Dashboard Top Selling Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/expiring-soon-batches":{"get":{"tags":["dashboard"],"summary":"Get batches expiring soon","description":"Retrieves a list of medicine batches that will expire within a specified number of days.","operationId":"get_expiring_soon_batches_api_v1_dashboard_expiring_soon_batches_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}},{"name":"days_ahead","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":60,"title":"Days Ahead"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExpiringSoonBatch"},"title":"Response Get Expiring Soon Batches Api V1 Dashboard Expiring Soon Batches Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/recent-sales":{"get":{"tags":["dashboard"],"summary":"Get recent sales transactions","description":"Retrieves a list of the most recent sales transactions.","operationId":"get_recent_sales_api_v1_dashboard_recent_sales_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":5,"title":"Limit"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecentSale"},"title":"Response Get Recent Sales Api V1 Dashboard Recent Sales Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/sales-by-category":{"get":{"tags":["dashboard"],"summary":"Get sales revenue by medicine category","description":"Retrieves total sales revenue grouped by medicine category, sorted\nin descending order of revenue.","operationId":"get_sales_by_category_api_v1_dashboard_sales_by_category_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":7,"title":"Limit"}},{"name":"required_token_type","in":"query","required":false,"schema":{"type":"string","default":"access","title":"Required Token Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SalesByCategory"},"title":"Response Get Sales By Category Api V1 Dashboard Sales By Category Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_import_medicines_from_csv_api_v1_medicines_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV file containing medicine data"}},"type":"object","required":["file"],"title":"Body_import_medicines_from_csv_api_v1_medicines_import_post"},"Body_login_for_access_token_api_v1_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_v1_auth_token_post"},"CategoryEnum":{"type":"string","enum":["Pain Relief","Antibiotics","Antiseptics","Vitamins & Supplements","Allergy & Hayfever","Cold & Flu","Digestive Health","Skin Care","Unassigned"],"title":"CategoryEnum"},"DashboardStats":{"properties":{"sales_today":{"$ref":"#/components/schemas/SalesPeriodStats"},"sales_last_7_days":{"$ref":"#/components/schemas/SalesPeriodStats"},"sales_last_30_days":{"$ref":"#/components/schemas/SalesPeriodStats"},"inventory_summary":{"additionalProperties":{"type":"integer"},"type":"object","title":"Inventory Summary"},"top_selling_products":{"items":{"$ref":"#/components/schemas/TopSellingProduct"},"type":"array","title":"Top Selling Products"},"expiring_soon_batches":{"items":{"$ref":"#/components/schemas/ExpiringSoonBatch"},"type":"array","title":"Expiring Soon Batches"},"sales_by_category":{"items":{"$ref":"#/components/schemas/SalesByCategory"},"type":"array","title":"Sales By Category"},"recent_sales":{"items":{"$ref":"#/components/schemas/RecentSale"},"type":"array","title":"Recent Sales"}},"type":"object","required":["sales_today","sales_last_7_days","sales_last_30_days","inventory_summary","top_selling_products","expiring_soon_batches","sales_by_category","recent_sales"],"title":"DashboardStats"},"ExpiringSoonBatch":{"properties":{"medicine_name":{"type":"string","title":"Medicine Name"},"brand":{"type":"string","title":"Brand"},"batch_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Number"},"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"quantity":{"type":"integer","title":"Quantity"}},"type":"object","required":["medicine_name","brand","batch_number","expiry_date","quantity"],"title":"ExpiringSoonBatch"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MedicineBatchCreate":{"properties":{"batch_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Number"},"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"cost_price":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Cost Price"},"selling_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Selling Price"},"quantity":{"type":"integer","exclusiveMinimum":0.0,"title":"Quantity","description":"The initial quantity of the batch, must be positive."}},"type":"object","required":["expiry_date","cost_price","selling_price","quantity"],"title":"MedicineBatchCreate"},"MedicineBatchPublic":{"properties":{"batch_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Number"},"expiry_date":{"type":"string","format":"date","title":"Expiry Date"},"cost_price":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Cost Price"},"selling_price":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Selling Price"},"id":{"type":"integer","title":"Id"},"date_added":{"type":"string","format":"date-time","title":"Date Added"},"is_expired":{"type":"boolean","title":"Is Expired"},"quantity":{"type":"integer","minimum":0.0,"title":"Quantity","description":"The current quantity of the batch."}},"type":"object","required":["expiry_date","cost_price","selling_price","id","date_added","is_expired","quantity"],"title":"MedicineBatchPublic"},"MedicineCreate":{"properties":{"name":{"type":"string","title":"Name"},"brand":{"type":"string","title":"Brand"},"form":{"$ref":"#/components/schemas/MedicineForm"},"category":{"$ref":"#/components/schemas/CategoryEnum","default":"Unassigned"}},"type":"object","required":["name","brand","form"],"title":"MedicineCreate"},"MedicineForm":{"type":"string","enum":["TABLET","SYRUP","CAPSULE","INJECTION","OINTMENT","DROPS","OTHER"],"title":"MedicineForm"},"MedicineInList":{"properties":{"name":{"type":"string","title":"Name"},"brand":{"type":"string","title":"Brand"},"form":{"$ref":"#/components/schemas/MedicineForm"},"category":{"$ref":"#/components/schemas/CategoryEnum","default":"Unassigned"},"id":{"type":"integer","title":"Id"},"serial_number":{"type":"string","title":"Serial Number"},"total_quantity":{"type":"integer","title":"Total Quantity"},"earliest_expiry":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Earliest Expiry"}},"type":"object","required":["name","brand","form","id","serial_number","total_quantity","earliest_expiry"],"title":"MedicineInList"},"MedicinePublic":{"properties":{"name":{"type":"string","title":"Name"},"brand":{"type":"string","title":"Brand"},"form":{"$ref":"#/components/schemas/MedicineForm"},"category":{"$ref":"#/components/schemas/CategoryEnum","default":"Unassigned"},"id":{"type":"integer","title":"Id"},"serial_number":{"type":"string","title":"Serial Number"},"batches":{"items":{"$ref":"#/components/schemas/MedicineBatchPublic"},"type":"array","title":"Batches","default":[]},"total_quantity":{"type":"integer","title":"Total Quantity"},"earliest_expiry":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Earliest Expiry"}},"type":"object","required":["name","brand","form","id","serial_number","total_quantity","earliest_expiry"],"title":"MedicinePublic"},"MedicineUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"brand":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Brand"},"form":{"anyOf":[{"$ref":"#/components/schemas/MedicineForm"},{"type":"null"}]},"category":{"anyOf":[{"$ref":"#/components/schemas/CategoryEnum"},{"type":"null"}]}},"type":"object","title":"MedicineUpdate"},"PaymentMethod":{"type":"string","enum":["CASH","MOMO"],"title":"PaymentMethod"},"RecentSale":{"properties":{"id":{"type":"integer","title":"Id"},"sale_date":{"type":"string","format":"date-time","title":"Sale Date"},"invoice_number":{"type":"string","title":"Invoice Number"},"total_amount":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Total Amount"}},"type":"object","required":["id","sale_date","invoice_number","total_amount"],"title":"RecentSale"},"RefreshToken":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshToken"},"SaleCreate":{"properties":{"items":{"items":{"$ref":"#/components/schemas/SaleItemCreate"},"type":"array","minItems":1,"title":"Items"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod","default":"CASH"}},"type":"object","required":["items"],"title":"SaleCreate"},"SaleInList":{"properties":{"id":{"type":"integer","title":"Id"},"invoice_number":{"type":"string","title":"Invoice Number"},"sale_date":{"type":"string","format":"date-time","title":"Sale Date"},"total_amount":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Total Amount"},"sold_by_username":{"type":"string","title":"Sold By Username"}},"type":"object","required":["id","invoice_number","sale_date","total_amount","sold_by_username"],"title":"SaleInList"},"SaleItemCreate":{"properties":{"medicine_id":{"type":"integer","title":"Medicine Id"},"quantity":{"type":"integer","exclusiveMinimum":0.0,"title":"Quantity"}},"type":"object","required":["medicine_id","quantity"],"title":"SaleItemCreate"},"SaleItemReceipt":{"properties":{"medicine_name":{"type":"string","title":"Medicine Name"},"quantity":{"type":"integer","title":"Quantity"},"unit_price":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Unit Price"},"subtotal":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Subtotal"}},"type":"object","required":["medicine_name","quantity","unit_price","subtotal"],"title":"SaleItemReceipt"},"SaleReceipt":{"properties":{"id":{"type":"integer","title":"Id"},"invoice_number":{"type":"string","title":"Invoice Number"},"sale_date":{"type":"string","format":"date-time","title":"Sale Date"},"total_amount":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Total Amount"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod"},"sold_by_username":{"type":"string","title":"Sold By Username"},"items":{"items":{"$ref":"#/components/schemas/SaleItemReceipt"},"type":"array","title":"Items"}},"type":"object","required":["id","invoice_number","sale_date","total_amount","payment_method","sold_by_username","items"],"title":"SaleReceipt"},"SalesByCategory":{"properties":{"category_name":{"type":"string","title":"Category Name"},"total_revenue":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Total Revenue"}},"type":"object","required":["category_name","total_revenue"],"title":"SalesByCategory"},"SalesPeriodStats":{"properties":{"total_revenue":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Total Revenue"},"sales_count":{"type":"integer","title":"Sales Count"}},"type":"object","required":["total_revenue","sales_count"],"title":"SalesPeriodStats"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type"},"user_role":{"$ref":"#/components/schemas/UserRole"}},"type":"object","required":["access_token","refresh_token","token_type","user_role"],"title":"Token"},"TopSellingProduct":{"properties":{"medicine_id":{"type":"integer","title":"Medicine Id"},"name":{"type":"string","title":"Name"},"brand":{"type":"string","title":"Brand"},"total_quantity_sold":{"type":"integer","title":"Total Quantity Sold"}},"type":"object","required":["medicine_id","name","brand","total_quantity_sold"],"title":"TopSellingProduct"},"UserCreate":{"properties":{"full_name":{"type":"string","title":"Full Name"},"password":{"type":"string","minLength":6,"title":"Password","description":"Password must be at least 6 characters."}},"type":"object","required":["full_name","password"],"title":"UserCreate"},"UserCreateWithRole":{"properties":{"full_name":{"type":"string","title":"Full Name"},"password":{"type":"string","minLength":6,"title":"Password","description":"Password must be at least 6 characters."},"role":{"$ref":"#/components/schemas/UserRole","default":"CASHIER"}},"type":"object","required":["full_name","password"],"title":"UserCreateWithRole"},"UserPublic":{"properties":{"full_name":{"type":"string","title":"Full Name"},"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"role":{"$ref":"#/components/schemas/UserRole"}},"type":"object","required":["full_name","id","username","role"],"title":"UserPublic"},"UserRole":{"type":"string","enum":["ADMIN","MANAGER","CASHIER"],"title":"UserRole"},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"role":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}]}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/token"}}}}}}